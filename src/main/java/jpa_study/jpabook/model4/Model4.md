# 4. 상속 관계 매핑
## 추가 요구사항
- 상품의 종류는 음반, 도서 영화가 있고 이후 더 확장될 수 있다. (확장성 요구)
- 모든 데이터는 등록일과 수정일이 있어야 한다.

## 단일 테이블 전략
- 상속 관계를 테이블 하나에 통합하는 방법이다.
- 여기에선 `ITEM` 테이블 하나만 사용하고 `DTYPE`이라는 컬럼으로 자식 상품을 구분한다.

## 상속 관계 매핑
- entity.item 이라는 패키지에 상품 클래스를 이동시킨다.
- 이렇게 만든 패키지는 상품과 상품의 자식 클래스가 들어있다.
- 상품 클래스는 직접 생성해서 사용하지 않으므로 abstract를 추가해서 추상 클래스를 만든다.
- 부모 테이블은 `@Inheritance` 어노테이선을 사용해 단일 테이블 전략으로 상속 관계를 매핑한다.
- 부모 테이블은 `@DiscriminatorColumn` 어노테이션을 활용해 구분 컬럼으로 사용할 이름을 설정한다.
- 자식 테이블은 `@DiscriminatorValue` 어노테이션을 사용하고 그 값으로 구분 컬럼에 입력될 값을 넣는다. 

## @MappedSuperclass 매핑
- 모든 테이블에 등록일과 수정일 컬럼을 추가한다.
- 모든 엔티티에 추가하기보다는 `@MappedSuperclass`를 사용해서 부모 클래스를 만들어 상속을 받는 편이 좋다.
- 이를 위해 `BaseEntity`라고 하는 기본 부모 엔티티를 만들었다. 
- 그 뒤 `Member`와 `Order`에서 상속받았다.